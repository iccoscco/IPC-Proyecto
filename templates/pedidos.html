{% extends "_automata.html" %}

{% block title %}Registrar Pedido{% endblock %}

{% block contenido_dinamico %}
<h2>Registrar Pedido</h2>
<form method="POST" action="/guardar_pedido">
    <label for="id_usuario">Usuario:</label>
    <select name="id_usuario" id="id_usuario" onchange="filtrarPedidos()" required>
        {% for usuario in usuarios %}
        <option value="{{ usuario.id }}" {% if usuario_filtrado|string == usuario.id|string %}selected{% endif %}>
                {{ usuario.nombre }}
            </option>
        {% endfor %}
    </select>

    <label for="estado_mostrado">Estado:</label>
    <input type="text" id="estado_mostrado" value="pendiente" disabled>
    <input type="hidden" name="estado" id="estado" value="pendiente">

    <label for="origen_mostrado">Origen:</label>
    <input type="text" id="origen_mostrado" disabled>
    <input type="hidden" name="origen" id="origen">

    <button type="submit">Guardar</button>
</form>

<script type="module" src="{{ url_for('static', filename='js/automata/main.js') }}"></script>
<script src="{{ url_for('static', filename='js/funciones_pedidos.js') }}"></script>
{% endblock %}


